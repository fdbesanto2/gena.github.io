/*! jQuery Floating Message - v1.0.3 - 2012-08-15
* https://github.com/sideroad/jquery.floatingmessage
* Copyright (c) 2012 sideroad; Licensed MIT, GPL */
(function(a){var b={"top-left":10,"top-right":10,"bottom-left":10,"bottom-right":10},c=10,d={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},e=function(c){var e,f=c.attr("id"),g=c.data("floating-message"),h={},i=0,j=g.range,k=g.position,l=g.duration,m=g.stuffEasing,n=g.hide,o=g.close,p=g.timerId,q=g.height+g.margin+g.padding*2,r=d[g.position];p&&clearTimeout(p);for(e=0;e<r.length;e++){g=r[e];if(f==g.id){i=e;continue}g.range>j&&(g.range-=q,h[g.verticalAlign]=g.range,g.elem.stop().animate(h,{duration:l,easing:m,queue:!1}))}r.splice(i,1),b[k]-=q,c.stop().hide(n,l,function(){a(this).remove(),o&&o()})};a.floatingMessage=function(f,g){var h="jqueryFloatingMessage"+(new Date).getTime()+""+parseInt(Math.random()*1e4,10),i=a('<div id="'+h+'" class="ui-widget-content ui-corner-all ui-floating-message"></div>'),j={},k=0,l=0,m;return g=g||{},g=a.extend(!0,{position:"top-left",verticalAlign:(g.position||"top-left").split("-")[0],align:(g.position||"top-left").split("-")[1],width:300,height:50,time:!1,show:"drop",hide:"drop",padding:10,margin:10,duration:500,stuffEasing:"easeOutBounce",body:a("<div></div>"),open:!1,close:!1,click:e,elem:i,timerId:!1,id:h},g),g.range=b[g.position],k=g.height,l=g.padding,m=g.open,f&&g.body.html(f.replace(/\n/g,"<br />")),g.className&&i.addClass(g.className),j={width:g.width+"px",height:k+"px",position:"fixed",padding:l+"px"},j[g.verticalAlign]=b[g.position],j[g.align]=c,i.css(j).append(g.body),i.bind("destroy.fms",function(){e(i)}),a(document.body).append(i),g.click&&i.bind("click.fms",function(){g.click(i)}),i.show(g.show,g.duration,function(){g.time&&(g.timerId=setTimeout(function(){g.click(i)},g.time)),m&&m()}),d[g.position].push(g),b[g.position]+=k+g.margin+l*2,i.data("floating-message",g),g.body},a.fn.floatingMessage=function(b){return this.each(function(){typeof b=="string"?a(this).parent(".ui-floating-message").trigger(b+".fms"):(b=b||{},b.body=this,a.floatingMessage(!1,b))})}})(jQuery);